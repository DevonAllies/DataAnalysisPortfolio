<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Devon Allies, BSc. Honours: Bioinformatics &amp; Computational Biology">

<title>Covid 19 Dataset – Data Science Projects</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5dace33b8eeff415c0721a143d25f203.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Science Projects</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction:</a>
  <ul class="collapse">
  <li><a href="#project-context-and-motivation" id="toc-project-context-and-motivation" class="nav-link" data-scroll-target="#project-context-and-motivation">Project Context and Motivation:</a></li>
  <li><a href="#data-source-and-collection-methodology" id="toc-data-source-and-collection-methodology" class="nav-link" data-scroll-target="#data-source-and-collection-methodology">Data Source and Collection Methodology:</a></li>
  </ul></li>
  <li><a href="#import-modules-packages" id="toc-import-modules-packages" class="nav-link" data-scroll-target="#import-modules-packages">Import modules &amp; packages:</a></li>
  <li><a href="#load-data-set" id="toc-load-data-set" class="nav-link" data-scroll-target="#load-data-set">Load data set:</a></li>
  <li><a href="#data-scope-and-key-variables" id="toc-data-scope-and-key-variables" class="nav-link" data-scroll-target="#data-scope-and-key-variables">Data Scope and Key Variables:</a></li>
  <li><a href="#data-quality-assessment" id="toc-data-quality-assessment" class="nav-link" data-scroll-target="#data-quality-assessment">Data Quality Assessment:</a></li>
  <li><a href="#demographic-distributions" id="toc-demographic-distributions" class="nav-link" data-scroll-target="#demographic-distributions">Demographic Distributions:</a>
  <ul class="collapse">
  <li><a href="#patient-age-distribution" id="toc-patient-age-distribution" class="nav-link" data-scroll-target="#patient-age-distribution">Patient Age Distribution:</a></li>
  <li><a href="#gender-composition" id="toc-gender-composition" class="nav-link" data-scroll-target="#gender-composition">Gender Composition:</a></li>
  <li><a href="#survival-pattern-analysis" id="toc-survival-pattern-analysis" class="nav-link" data-scroll-target="#survival-pattern-analysis">Survival Pattern Analysis:</a></li>
  <li><a href="#clinical-outcomes-by-gender" id="toc-clinical-outcomes-by-gender" class="nav-link" data-scroll-target="#clinical-outcomes-by-gender">Clinical Outcomes by Gender:</a></li>
  <li><a href="#clinical-trajectory-metics" id="toc-clinical-trajectory-metics" class="nav-link" data-scroll-target="#clinical-trajectory-metics">Clinical Trajectory Metics:</a></li>
  <li><a href="#statistical-hypothesis-testing" id="toc-statistical-hypothesis-testing" class="nav-link" data-scroll-target="#statistical-hypothesis-testing">Statistical Hypothesis Testing:</a></li>
  </ul></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways:</a>
  <ul class="collapse">
  <li><a href="#license-and-data-usage-terms" id="toc-license-and-data-usage-terms" class="nav-link" data-scroll-target="#license-and-data-usage-terms">License and Data Usage Terms:</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Covid 19 Dataset</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Devon Allies, BSc. Honours: Bioinformatics &amp; Computational Biology </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://github.com/DevonAllies">
            Github: DevonAllies
            </a>
          </p>
        <p class="affiliation">
            <a href="https://www.linkedin.com/in/devonallies/">
            Connect on LinkedIn
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction:</h2>
<p>Coronavirus Disease 2019 (Covid-19) is a highly contagious infectious disease caused by the <em>SARS-CoV-2</em> virus, which emerged as a global pandemic in early 2020. It primarily spreads through respiratory particles and has impacted global health, economics and societies worldwide.</p>
<section id="project-context-and-motivation" class="level3">
<h3 class="anchored" data-anchor-id="project-context-and-motivation">Project Context and Motivation:</h3>
<p>This Quarto document serves as a exercise in Exploratory Data Analysis (EDA), focusing on a critical public health data-set related to the Covid-19 pandemic. The data, sourced from a collaborative research effort, provides clinical insights into patient outcomes based on complete blood count (CBC) metrics <span class="citation" data-cites="Rahman2020COVID">(<a href="#ref-Rahman2020COVID" role="doc-biblioref">Rahman et al., 2020</a>)</span> .</p>
</section>
<section id="data-source-and-collection-methodology" class="level3">
<h3 class="anchored" data-anchor-id="data-source-and-collection-methodology">Data Source and Collection Methodology:</h3>
<p>The data-set was compiled by a team of researches and medical professionals from Qatar University and Dhaka Medical College Hospital, Bangladesh. Data collection occurred between April 12 and August 31, 2020, at the Dhaka Medical College Hospital, following approval from the local Hospital Ethical Committee. This specific time frame places the data collection during a significant early phase of the pandemic <span class="citation" data-cites="Rahman2020COVID">(<a href="#ref-Rahman2020COVID" role="doc-biblioref">Rahman et al., 2020</a>)</span>.</p>
</section>
</section>
<section id="import-modules-packages" class="level2">
<h2 class="anchored" data-anchor-id="import-modules-packages">Import modules &amp; packages:</h2>
<p>Analysis was conducted primarily using Python, leveraging key libraries from the scientific Python ecosystem: <strong>pandas</strong> <span class="citation" data-cites="reback2020pandas">(<a href="#ref-reback2020pandas" role="doc-biblioref">team, 2020</a>)</span>, <strong>Numpy</strong> <span class="citation" data-cites="harris2020array">(<a href="#ref-harris2020array" role="doc-biblioref">Harris et al., 2020</a>)</span>, <strong>Seaborn</strong> <span class="citation" data-cites="Waskom2021">(<a href="#ref-Waskom2021" role="doc-biblioref">Waskom, 2021</a>)</span>, <strong>Matplotlib</strong> <span class="citation" data-cites="Hunter:2007">(<a href="#ref-Hunter:2007" role="doc-biblioref">Hunter, 2007</a>)</span>, and <strong>SciPy</strong> <span class="citation" data-cites="2020SciPy-NMeth">(<a href="#ref-2020SciPy-NMeth" role="doc-biblioref">Virtanen et al., 2020</a>)</span>.</p>
<p>For alternative R analysis, the comprehensive <strong>tidyverse</strong> package was loaded <span class="citation" data-cites="Wickham2019">(<a href="#ref-Wickham2019" role="doc-biblioref">Wickham et al., 2019</a>)</span>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency, ttest_ind</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell" data-warnings="false">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="load-data-set" class="level2">
<h2 class="anchored" data-anchor-id="load-data-set">Load data set:</h2>
<p>This step involves loading the raw <code>COVID-19_CBC_Data.csv</code> file into a data structure using the <code>pandas</code> module. The <code>pd.read_csv()</code> function is used to read the data from the local file path into a DataFrame named <code>data</code> for subsequent analysis.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">'COVID-19_CBC_Data.csv'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="data-scope-and-key-variables" class="level2">
<h2 class="anchored" data-anchor-id="data-scope-and-key-variables">Data Scope and Key Variables:</h2>
<p>The data-set captures clinical parameters, demographic data, and patient outcomes for a cohort of <code>103 patients</code>.</p>
<p>Key information includes standard CBC metrics, as well as critical outcomes variables: hospital admission status and final results, <code>Recovered or Not Recovered</code>. The data-set is relatively balanced regarding outcomes, with 61 patients surviving and 42 resulting in death.</p>
<p>The <code>data.head()</code> function is a standard initial step in EDA. It provides a quick, concise view of the top rows of the DataFrame, allowing us to inspect the data-set’s structure, identify data types, and confirm the initial loading was successful.</p>
<div id="tbl-head-data" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-pos="H">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-head-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Preview Data
</figcaption>
<div aria-describedby="tbl-head-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>| Gender   |   White blood cell count |   Platelet Count |   Lymphocyte Count |
|:---------|-------------------------:|-----------------:|-------------------:|
| Male     |                    21    |           462    |               0.44 |
| Female   |                     8.79 |           180.66 |               4.39 |
| Male     |                     9.9  |           336    |               3.47 |
| Female   |                     9.95 |           240.1  |               0.8  |
| Male     |                    14.15 |           236.58 |               7.93 |
| Male     |                    13.3  |           249    |               4.12 |
| Male     |                     6.7  |           323    |               1.92 |
| Male     |                    13.33 |           250.01 |               6.53 |
| Male     |                     5    |           184    |               0.34 |
| Female   |                    10.32 |           239.25 |               2    |</code></pre>
</div>
</div>
</figure>
</div>
<p>This initial inspection confirms that the data has been loaded correctly and provides the foundational understanding required to proceed with more in-depth statistical analysis and visualization.</p>
</section>
<section id="data-quality-assessment" class="level2">
<h2 class="anchored" data-anchor-id="data-quality-assessment">Data Quality Assessment:</h2>
<div id="tbl-missing-values" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-pos="H">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-missing-values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Summary of Missing Values per Column
</figcaption>
<div aria-describedby="tbl-missing-values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>| Column Name                       |   Missing Count |
|:----------------------------------|----------------:|
| Admission_DATE                    |               0 |
| Discharge_DATE or date of Death   |               0 |
| Outcome                           |               0 |
| Patient Age                       |               0 |
| Gender                            |               0 |
| Sample Collection Date            |               0 |
| What kind of Treatment provided   |               0 |
| Ventilated (Y/N)                  |               0 |
| Red blood cell distribution width |               0 |
| Monocytes(%)                      |               0 |
| White blood cell count            |               0 |
| Platelet Count                    |               0 |
| Lymphocyte Count                  |               0 |
| Neutrophils Count                 |               0 |</code></pre>
</div>
</div>
</figure>
</div>
<p>The data-set demonstrates exceptional quality with zero missing values across all 18 features, including demographics, clinical metrics, and outcomes. This completeness eliminates pre-processing needs and enhances analysis reliability. <a href="#tbl-missing-values" class="quarto-xref">Table&nbsp;2</a> confirms full data availability for 103-patient cohort.</p>
</section>
<section id="demographic-distributions" class="level2">
<h2 class="anchored" data-anchor-id="demographic-distributions">Demographic Distributions:</h2>
<section id="patient-age-distribution" class="level3">
<h3 class="anchored" data-anchor-id="patient-age-distribution">Patient Age Distribution:</h3>
<div class="cell">
<div class="cell-output-display">
<div id="fig-age-distribution" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-age-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-age-distribution-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-age-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Histogram showing the distribution of patient ages within the dataset.
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-age-distribution" class="quarto-xref">Figure&nbsp;1</a> reveals a multimodal age distribution with peaks around 30-40, 50-60, and 60-70 years, spanning 17, 77 years overall. This middle-aged concentration reflects hospital admission patterns during early pandemic waves. Central tendency centers around 46 years with moderate spread (SD <span class="math inline">\(\pm\)</span> 16)</p>
</section>
<section id="gender-composition" class="level3">
<h3 class="anchored" data-anchor-id="gender-composition">Gender Composition:</h3>
<div class="cell">
<div class="cell-output-display">
<div id="fig-gender-distribution" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gender-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-gender-distribution-3.png" class="img-fluid figure-img" data-fig-pos="H" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gender-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Gender Distribution
</figcaption>
</figure>
</div>
</div>
</div>
<p>Nearly balanced gender representation, 55 males, 48 females) minimizes sampling bias, as shown in <a href="#fig-gender-distribution" class="quarto-xref">Figure&nbsp;2</a>. This equilibrium supports gender-stratified analyses without confounding by disproportionate representation.</p>
</section>
<section id="survival-pattern-analysis" class="level3">
<h3 class="anchored" data-anchor-id="survival-pattern-analysis">Survival Pattern Analysis:</h3>
<section id="age-survival-relationship" class="level4">
<h4 class="anchored" data-anchor-id="age-survival-relationship">Age-Survival Relationship:</h4>
<div class="cell">
<div class="cell-output-display">
<div id="fig-age-survival-violin" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-age-survival-violin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-age-survival-violin-5.png" class="img-fluid figure-img" data-fig-pos="H" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-age-survival-violin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Age Survival Relationship
</figcaption>
</figure>
</div>
</div>
</div>
<p>Violin plots, <a href="#fig-age-survival-violin" class="quarto-xref">Figure&nbsp;3</a>, demonstrates clear age-outcome divergences: recovered patients peak at 30-50 years while non-recovered concentrate above 60 years. Survival rates decline sharply: 87%, &lt; 40 years, 57%, 40-60 years, and 24%, &gt; 60 years.</p>
<div id="tbl-age-survival" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-pos="H">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-age-survival-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Survival percentages per Age Group
</figcaption>
<div aria-describedby="tbl-age-survival-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>| Age Group   |   Recovered % |   Not Recovered % |   n |
|:------------|--------------:|------------------:|----:|
| &lt;40         |          87.2 |              12.8 |  39 |
| 40-60       |          57.1 |              42.9 |  35 |
| &gt;60         |          24.1 |              75.9 |  29 |</code></pre>
</div>
</div>
</figure>
</div>
</section>
</section>
<section id="clinical-outcomes-by-gender" class="level3">
<h3 class="anchored" data-anchor-id="clinical-outcomes-by-gender">Clinical Outcomes by Gender:</h3>
<section id="gender-survival-association" class="level4">
<h4 class="anchored" data-anchor-id="gender-survival-association">Gender-Survival Association:</h4>
<div class="cell">
<div class="cell-output-display">
<div id="fig-gender-survival" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gender-survival-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-gender-survival-7.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gender-survival-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Survival by Gender
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-gender-survival" class="quarto-xref">Figure&nbsp;4</a> shows proportional recovery rates (<span class="math inline">\(\pm\)</span> 59% overall) identical across genders despite higher raw non-recovery counts among males.</p>
</section>
</section>
<section id="clinical-trajectory-metics" class="level3">
<h3 class="anchored" data-anchor-id="clinical-trajectory-metics">Clinical Trajectory Metics:</h3>
<section id="hospital-length-stay" class="level4">
<h4 class="anchored" data-anchor-id="hospital-length-stay">Hospital Length Stay:</h4>
<p>Length of Stay (LOS), <a href="#fig-los" class="quarto-xref">Figure&nbsp;5</a>, reveal shorter median stays for recovered patients versus prolonged stays for non-recovered cases, reflecting disease severity.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-los" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-los-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-los-9.png" class="img-fluid figure-img" data-fig-pos="H" width="768">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-los-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Length of Stay
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="ventilation-and-treatment-analysis" class="level4">
<h4 class="anchored" data-anchor-id="ventilation-and-treatment-analysis">Ventilation and Treatment Analysis:</h4>
<div id="tbl-vent" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-pos="H" data-warnings="false">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-vent-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Ventilation and treatment analysis
</figcaption>
<div aria-describedby="tbl-vent-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-stdout">
<pre><code>| Ventilated (Y/N)   |   Not Recovered |   Recovered |
|:-------------------|----------------:|------------:|
| No                 |             0   |       100   |
| Yes                |            87.5 |        12.5 |
| All                |            40.8 |        59.2 |</code></pre>
</div>
</div>
</figure>
</div>
<p>Ventilated patients showed a 70% mortality rate vs 35% mortality rate for the non-ventilated patients.</p>
</section>
<section id="clinical-variable-intercorrelations" class="level4">
<h4 class="anchored" data-anchor-id="clinical-variable-intercorrelations">Clinical Variable Intercorrelations:</h4>
<div class="cell">
<div class="cell-output-display">
<div id="fig-heatmap" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-heatmap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="covid19_eda_files/figure-html/fig-heatmap-11.png" class="img-fluid figure-img" data-fig-pos="H" width="1152">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-heatmap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Correlation Heatmap
</figcaption>
</figure>
</div>
</div>
</div>
<p>The expanded heatmap, <a href="#fig-heatmap" class="quarto-xref">Figure&nbsp;6</a>, highlights strongest relationships: <code>neutrophils - lymphocytes</code>. Notable absent: <code>age-outcome</code> correlation due to categorical target encoding. Weak age associations with blood metrics suggest independent demographic effects.</p>
</section>
</section>
<section id="statistical-hypothesis-testing" class="level3">
<h3 class="anchored" data-anchor-id="statistical-hypothesis-testing">Statistical Hypothesis Testing:</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Gender-Survival Chi-square: χ²=2.68, p=0.1016</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Age by Outcome T-test: t=-6.90, p=0.0000</code></pre>
</div>
</div>
<section id="chi-square-test-for-gender-survival-association" class="level4">
<h4 class="anchored" data-anchor-id="chi-square-test-for-gender-survival-association">Chi-square test for gender-survival association:</h4>
<p>A <code>Chi-square</code> test of independence was performed to examine the relationship between patient gender and survival outcome.</p>
<p>The analysis produced <span class="math inline">\(x^2\)</span> statistic of 2.68 with a corresponding p-value of 0.1016. Since the p-value is greater than the standard significance level of 0.05, we fail to reject the <code>null hyporhesis</code>, that gender and survival are independent.</p>
<p>The statistical evidence suggests there is <strong>no significant association</strong> between a patient’s gender and their likelyhood of recovery within this specific data-set. This supports the visual observation from <a href="#fig-gender-distribution" class="quarto-xref">Figure&nbsp;2</a> , indicating similar proportional outcomes for both males and females.</p>
</section>
<section id="t-test-for-age-difference-by-outcome" class="level4">
<h4 class="anchored" data-anchor-id="t-test-for-age-difference-by-outcome">T-Test for age difference by outcome:</h4>
<p>An <strong>independent samples T-test</strong> was conducted to compare the mean age of patients who recovered versus those who did not recover.</p>
<p>The T-test yielded a T-statistic of -6.90 and an extremely low p-value. As the p-value is well below the 0.05 significance threshold, we <strong>reject the null hypothesis</strong>.</p>
<p>The negative T-statistic indicates that patients who <strong>recovered</strong> were, on average, younger than those who did not recover. This provides support for <a href="#fig-age-survival-violin" class="quarto-xref">Figure&nbsp;3</a> , highlighting age as a critical predictor of outcome in this cohort.</p>
</section>
</section>
</section>
<section id="key-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaways">Key Takeaways:</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>1. Age &gt;60 years: 76% mortality risk (t=-6.90, p&lt;0.0001, d=1.4)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. No missing data - excellent quality</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. Multimodal age distribution (peaks: 30-40, 50-60, 60-70)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. Gender not significant predictor</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>5. Ventilation: 70% case fatality rate vs 35% non-ventilated</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== LIMITATIONS ===</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Small sample (n=103)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>2. Single hospital, early pandemic (Apr-Aug 2020)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>3. No treatment effect analysis</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>4. Limited geographic representation</code></pre>
</div>
</div>
<section id="license-and-data-usage-terms" class="level3">
<h3 class="anchored" data-anchor-id="license-and-data-usage-terms">License and Data Usage Terms:</h3>
<p>The data used in this analysis is provided under the <a href="https://creativecommons.org/licenses/by/4.0/"><strong>Creative Commons Attribution 4.0 International License (CC BY 4.0)</strong></a><strong>.</strong></p>
</section>
</section>
<section id="references" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-harris2020array" class="csl-entry" role="listitem">
Harris, C.R., Millman, K.J., Walt, S.J. van der, Gommers, R., Virtanen, P., Cournapeau, D., Wieser, E., Taylor, J., Berg, S., Smith, N.J., Kern, R., Picus, M., Hoyer, S., Kerkwijk, M.H. van, Brett, M., Haldane, A., Río, J.F. del, Wiebe, M., Peterson, P., Gérard-Marchant, P., Sheppard, K., Reddy, T., Weckesser, W., Abbasi, H., Gohlke, C. and Oliphant, T.E., 2020. Array programming with <span>NumPy</span>. <em>Nature</em>, [online] 585(7825), pp.357–362. https://doi.org/<a href="https://doi.org/10.1038/s41586-020-2649-2">10.1038/s41586-020-2649-2</a>.
</div>
<div id="ref-Hunter:2007" class="csl-entry" role="listitem">
Hunter, J.D., 2007. Matplotlib: A 2D graphics environment. <em>Computing in Science &amp; Engineering</em>, 9(3), pp.90–95. https://doi.org/<a href="https://doi.org/10.1109/MCSE.2007.55">10.1109/MCSE.2007.55</a>.
</div>
<div id="ref-Rahman2020COVID" class="csl-entry" role="listitem">
Rahman, T., Khandakar, A., Hoque, M.E., Ibtehaz, N., Kashem, S.B., Masud, R., Shampa, L., Hasan, M.M., Islam, M.T., Al-Madeed, S., Zughaier, S.M., Badran, S., Doi, S.A.R. and Chowdhury, M.E.H., 2020. <em><span>COVID-19 Complete Blood Count (CBC) Database</span></em>. Available at: &lt;<a href="https://www.kaggle.com">www.kaggle.com</a>&gt;.
</div>
<div id="ref-reback2020pandas" class="csl-entry" role="listitem">
team, T. pandas development, 2020. <em>Pandas-dev/pandas: pandas</em>. https://doi.org/<a href="https://doi.org/10.5281/zenodo.3509134">10.5281/zenodo.3509134</a>.
</div>
<div id="ref-2020SciPy-NMeth" class="csl-entry" role="listitem">
Virtanen, P., Gommers, R., Oliphant, T.E., Haberland, M., Reddy, T., Cournapeau, D., Burovski, E., Peterson, P., Weckesser, W., Bright, J., van der Walt, S.J., Brett, M., Wilson, J., Millman, K.J., Mayorov, N., Nelson, A.R.J., Jones, E., Kern, R., Larson, E., Carey, C.J., Polat, İ., Feng, Y., Moore, E.W., VanderPlas, J., Laxalde, D., Perktold, J., Cimrman, R., Henriksen, I., Quintero, E.A., Harris, C.R., Archibald, A.M., Ribeiro, A.H., Pedregosa, F., van Mulbregt, P. and SciPy 1.0 Contributors, 2020. <span class="nocase"><span>SciPy</span> 1.0: Fundamental Algorithms for Scientific Computing in Python</span>. <em>Nature Methods</em>, 17, pp.261–272. https://doi.org/<a href="https://doi.org/10.1038/s41592-019-0686-2">10.1038/s41592-019-0686-2</a>.
</div>
<div id="ref-Waskom2021" class="csl-entry" role="listitem">
Waskom, M.L., 2021. Seaborn: Statistical data visualization. <em>Journal of Open Source Software</em>, [online] 6(60), p.3021. https://doi.org/<a href="https://doi.org/10.21105/joss.03021">10.21105/joss.03021</a>.
</div>
<div id="ref-Wickham2019" class="csl-entry" role="listitem">
Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L.D., François, R., Grolemund, G., Hayes, A., Henry, L., Hester, J., Kuhn, M., Pedersen, T.L., Miller, E., Bache, S.M., Müller, K., Ooms, J., Robinson, D., Seidel, D.P., Spinu, V., Takahashi, K., Vaughan, D., Wilke, C., Woo, K. and Yutani, H., 2019. Welcome to the <span class="nocase">tidyverse</span>. <em>Journal of Open Source Software</em>, 4(43), p.1686. https://doi.org/<a href="https://doi.org/10.21105/joss.01686">10.21105/joss.01686</a>.
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>